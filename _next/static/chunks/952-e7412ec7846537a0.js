(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{1571:function(e){var t,i;t={"./node_modules/events/events.js":e=>{"use strict";var t,i="object"==typeof Reflect?Reflect:null,n=i&&"function"==typeof i.apply?i.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};t=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(i,n){var r,o,s;function a(i){e.removeListener(t,c),n(i)}function c(){"function"==typeof e.removeListener&&e.removeListener("error",a),i([].slice.call(arguments))}m(e,t,c,{once:!0}),"error"!==t&&(r=e,o=a,s={once:!0},"function"==typeof r.on&&m(r,"error",o,s))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,i,n){if(a(i),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),o=e._events),s=o[t]),void 0===s)s=o[t]=i,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var r,o,s,l=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=u.bind(n);return r.listener=i,n.wrapFn=r,r}function f(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):v(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function v(e,t){for(var i=Array(t),n=0;n<t;++n)i[n]=e[n];return i}function m(e,t,i,n){if("function"==typeof e.on)n.once?e.once(t,i):e.on(t,i);else if("function"==typeof e.addEventListener)e.addEventListener(t,function r(o){n.once&&e.removeEventListener(t,r),i(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else for(var l=c.length,u=v(c,l),i=0;i<l;++i)n(u[i],this,t);return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var i,n,r,o,s;if(a(t),void 0===(n=this._events)||void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){s=i[o].listener,r=o;break}if(r<0)return this;0===r?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,r),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0==arguments.length){var r,o=Object.keys(i);for(n=0;n<o.length;++n)"removeListener"!==(r=o[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},"./node_modules/openfin-service-async/DeferredPromise.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){let e=new Promise((e,t)=>{this._resolve=e,this._reject=t});this._promise=e}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}}t.DeferredPromise=i},"./node_modules/openfin-service-async/async.js":(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i("./node_modules/openfin-service-async/DeferredPromise.js");async function r(e,t){let i=0;for(let n of e)await t(n,i,e),i++}async function o(e,t){await Promise.all(e.map(t))}function s(e,t,i){let r=new n.DeferredPromise,o=e.add((...e)=>{t(...e)&&(o.remove(),r.resolve())});return i&&i.catch(e=>{o.remove(),r.reject(e)}),a(r.promise)}function a(e){return e.catch(()=>{}),e}t.serialForEach=r,t.serialMap=async function(e,t){let i=[];return await r(e,async(e,n,r)=>{i.push(await t(e,n,r))}),i},t.serialFilter=async function(e,t){let i=[];return await r(e,async(e,n,r)=>{await t(e,n,r)&&i.push(e)}),i},t.parallelForEach=o,t.parallelMap=async function(e,t){let i=[];return await o(e,async(e,n,r)=>{i[n]=await t(e,n,r)}),i},t.parallelFilter=async function(e,t){let i=[];return await o(e,async(e,n,r)=>{i[n]=await t(e,n,r)}),e.filter((e,t)=>i[t])},t.withStrictTimeout=function(e,t,i){return a(Promise.race([new Promise((t,n)=>setTimeout(()=>n(Error(i)),e)),t]))},t.withTimeout=function(e,t){return Promise.race([new Promise(t=>setTimeout(()=>t([!0,void 0]),e)),t.then(e=>[!1,e])])},t.untilTrue=function(e,t,i){return t()?Promise.resolve():s(e,t,i)},t.untilSignal=s,t.allowReject=a},"./node_modules/openfin-service-async/index.js":(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i("./node_modules/openfin-service-async/async.js")),n(i("./node_modules/openfin-service-async/DeferredPromise.js"))},"./node_modules/semver-compare/index.js":e=>{e.exports=function(e,t){for(var i=e.split("."),n=t.split("."),r=0;r<3;r++){var o=Number(i[r]),s=Number(n[r]);if(o>s)return 1;if(s>o)return -1;if(!isNaN(o)&&isNaN(s))return 1;if(isNaN(o)&&!isNaN(s))return -1}return 0}},"./src/client/EventRouter.ts":function(e,t,i){"use strict";let n;var r=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};Object.defineProperty(t,"__esModule",{value:!0}),t.getEventRouter=t.eventEmitter=t.EventRouter=void 0;let o=i("./node_modules/events/events.js"),s=i("./src/client/dispatch.ts"),a=i("./src/client/internal.ts");class c{constructor(e){this._emitterProviders={},this._deserializers={},this._defaultEmitter=e}registerEmitterProvider(e,t){this._emitterProviders[e]=t}registerDeserializer(e,t){this._deserializers[e]=t}dispatchEvent(e){var t,i;let n,o;let{type:c,target:l}=e,u=r(e,["type","target"]);if(l){if("default"===l)n=this._defaultEmitter;else if(this._emitterProviders[l.type])n=this._emitterProviders[l.type](l.id);else throw Error(`Invalid target, no provider registered for '${l.type}'`)}else throw Error("Invalid event, no target specified");let d=Object.assign({type:c},u),f=this._deserializers[c];f?n.emit(c,f(d)):"notification-form-submitted"===c?(t=d,i=n,o=!1,t.preventDefault=()=>o=!0,i.emit("notification-form-submitted",t),o||(0,s.tryServiceDispatch)(a.APITopic.SET_FORM_STATUS_OPTIONS,{formStatus:"submitted",_notificationId:t.notification.id})):n.emit(c,d)}}t.EventRouter=c,t.eventEmitter=new o.EventEmitter,t.getEventRouter=function(){return n||(n=new c(t.eventEmitter)),n}},"./src/client/actions.ts":(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBodyClickType=t.ActionNoopType=t.ActionTrigger=void 0,(i=t.ActionTrigger||(t.ActionTrigger={})).CONTROL="control",i.SELECT="select",i.CLOSE="close",i.EXPIRE="expire",i.PROGRAMMATIC="programmatic",(t.ActionNoopType||(t.ActionNoopType={})).EVENT_DISMISS="event_dismiss",(t.ActionBodyClickType||(t.ActionBodyClickType={})).DISMISS_EVENT="dismiss_event"},"./src/client/channel-client.ts":(e,t,i)=>{"use strict";let n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelClient=t.clearAwaitedChannelClient=t.initAwaitedChannelClient=t.ChannelClientConfig=void 0;let o=i("./src/client/internal.ts"),s=i("./src/client/context.ts");t.ChannelClientConfig={serviceChannel:o.SERVICE_CHANNEL};let a=async({wait:e})=>{console.log("Connecting to Notifications channel provider");let i={version:"2.9.1"},n=(0,s.getProviderInfo)();n&&(i=Object.assign(Object.assign({},i),{providerInfo:n}));let r=await (0,s.getFin)().InterApplicationBus.Channel.connect(t.ChannelClientConfig.serviceChannel,{wait:e,payload:i});return console.log("Successfully connected to Notifications."),r};t.initAwaitedChannelClient=()=>n?{channelClientPromise:n,isInit:!1}:((n=a({wait:!0})).catch(e=>(0,t.clearAwaitedChannelClient)()),{channelClientPromise:n,isInit:!0}),t.clearAwaitedChannelClient=()=>{n=null};let c=async()=>{if(!r){try{(r=await a({wait:!1})).setDefaultAction(()=>!1)}catch(e){throw console.error('Could not find channel provider. Did you call "notifications.register()"?'),e}r.onDisconnection(()=>{r=null})}return r};t.getChannelClient=async()=>n||c()},"./src/client/context.ts":(e,t)=>{"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),t.setProviderInfo=t.getProviderInfo=t.setFin=t.getFin=void 0;let n=null;t.getFin=function(){return i},t.setFin=function(e){i=e},t.getProviderInfo=function(){return n},t.setProviderInfo=function(e){n=e}},"./src/client/controls.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/dispatch.ts":(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryServiceDispatch=void 0;let n=i("./src/client/channel-client.ts");t.tryServiceDispatch=async function(e,t){return(await (0,n.getChannelClient)()).dispatch(e,t)}},"./src/client/forms/fields.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldType=void 0,t.FieldType={string:"string",number:"number",boolean:"boolean",date:"date",checkboxGroup:"checkboxGroup",radioGroup:"radioGroup",time:"time"}},"./src/client/forms/index.ts":function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i("./src/client/forms/fields.ts"),t),r(i("./src/client/forms/widgets.ts"),t)},"./src/client/forms/widgets.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetType=t.TimeWidgetType=t.DateWidgetType=t.RadioGroupWidgetType=t.CheckboxGroupWidgetType=t.BooleanWidgetType=t.NumberWidgetType=t.StringWidgetType=void 0,t.StringWidgetType={Text:"Text",Dropdown:"Dropdown"},t.NumberWidgetType={Number:"Number"},t.BooleanWidgetType={Toggle:"Toggle",Checkbox:"Checkbox"},t.CheckboxGroupWidgetType={CheckboxGroup:"CheckboxGroup"},t.RadioGroupWidgetType={RadioGroup:"RadioGroup"},t.DateWidgetType={Date:"Date"},t.TimeWidgetType={Time:"Time"},t.WidgetType=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t.StringWidgetType),t.NumberWidgetType),t.BooleanWidgetType),t.CheckboxGroupWidgetType),t.RadioGroupWidgetType),t.DateWidgetType),t.TimeWidgetType)},"./src/client/indicator.ts":(e,t)=>{"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorColor=t.IndicatorType=void 0,(i=t.IndicatorType||(t.IndicatorType={})).FAILURE="failure",i.WARNING="warning",i.SUCCESS="success",(n=t.IndicatorColor||(t.IndicatorColor={})).RED="red",n.GREEN="green",n.YELLOW="yellow",n.BLUE="blue",n.PURPLE="purple",n.GRAY="gray",n.ORANGE="orange",n.MAGENTA="magenta",n.TEAL="teal"},"./src/client/internal.ts":(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.APITopic=t.getChannelName=t.SERVICE_CHANNEL=t.SERVICE_IDENTITY=void 0,t.SERVICE_IDENTITY={uuid:"notifications-service",name:"notifications-service"},t.SERVICE_CHANNEL="of-notifications-service-v1",t.getChannelName=e=>e===t.SERVICE_IDENTITY.uuid?t.SERVICE_CHANNEL:`${e}-${t.SERVICE_CHANNEL}`,(i=t.APITopic||(t.APITopic={})).CREATE_NOTIFICATION="create-notification",i.UPDATE_NOTIFICATION="update-notification",i.CLEAR_NOTIFICATION="clear-notification",i.GET_APP_NOTIFICATIONS="fetch-app-notifications",i.CLEAR_APP_NOTIFICATIONS="clear-app-notifications",i.TOGGLE_NOTIFICATION_CENTER="toggle-notification-center",i.ADD_EVENT_LISTENER="add-event-listener",i.REMOVE_EVENT_LISTENER="remove-event-listener",i.GET_PROVIDER_STATUS="get-provider-status",i.GET_NOTIFICATIONS_COUNT="get-notifications-count",i.SHOW_NOTIFICATION_CENTER="show-notification-center",i.HIDE_NOTIFICATION_CENTER="hide-notification-center",i.REGISTER_PLATFORM="register-notifications-platform",i.DEREGISTER_PLATFORM="deregister-notifications-platform",i.SET_FORM_STATUS_OPTIONS="set-form-status-options",i.SET_FORM_VALIDATION_ERRORS="set-form-validation-errors",i.GET_USER_SETTINGS_STATUS="get-user-settings-status",i.SET_DEFAULT_PLATFORM_SHORTCUT="set-default-platform-shortcut",i.SET_NOTIFICATION_SECURITY_RULE="set-notification-security-rule"},"./src/client/main.ts":function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)},a=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};Object.defineProperty(t,"__esModule",{value:!0}),t.setAllowedOrigins=t.getUserSettingStatus=t.UserSettings=t.getNotificationsCount=t.hide=t.show=t.setDefaultPlatformShortcut=t.toggleNotificationCenter=t.clearAll=t.getAll=t.clear=t.update=t.create=t.removeEventListener=t.addEventListener=t.VERSION=t.NotificationIndicatorType=t.IndicatorColor=t.NotificationIndicatorWithCustomColor=t.NotificationIndicator=t.NotificationOptions=t.provider=t.actions=void 0;let c=i("./src/client/actions.ts"),l=i("./src/client/dispatch.ts"),u=i("./src/client/internal.ts"),d=i("./src/client/EventRouter.ts");t.provider=o(i("./src/client/provider.ts"));let f=i("./src/client/validation.ts"),p=i("./src/client/indicator.ts");Object.defineProperty(t,"NotificationIndicator",{enumerable:!0,get:function(){return p.NotificationIndicator}}),Object.defineProperty(t,"NotificationIndicatorWithCustomColor",{enumerable:!0,get:function(){return p.NotificationIndicatorWithCustomColor}}),Object.defineProperty(t,"NotificationIndicatorType",{enumerable:!0,get:function(){return p.IndicatorType}}),Object.defineProperty(t,"IndicatorColor",{enumerable:!0,get:function(){return p.IndicatorColor}});let v=i("./src/client/templates/templates.ts");Object.defineProperty(t,"NotificationOptions",{enumerable:!0,get:function(){return v.NotificationOptions}}),t.actions=o(i("./src/client/actions.ts")),s(i("./src/client/actions.ts"),t),s(i("./src/client/controls.ts"),t),s(i("./src/client/source.ts"),t),s(i("./src/client/forms/index.ts"),t),s(i("./src/client/sounds.ts"),t),s(i("./src/client/stream.ts"),t),s(i("./src/client/templates/index.ts"),t),t.VERSION="2.9.1";let m=(0,d.getEventRouter)();function h(e){let{notification:t}=e;return Object.assign(Object.assign({},e),{notification:Object.assign(Object.assign({},t),{date:new Date(t.date),expires:null!==t.expires?new Date(t.expires):null})})}m.registerDeserializer("notification-created",e=>h(e)),m.registerDeserializer("notification-toast-dismissed",e=>h(e)),m.registerDeserializer("notification-closed",e=>h(e)),m.registerDeserializer("notification-action",e=>{var t;let i=h(e),{controlSource:n,controlIndex:r}=i,o=a(i,["controlSource","controlIndex"]);return e.trigger===c.ActionTrigger.CONTROL?Object.assign(Object.assign({},o),{control:null===(t=e.notification[n])||void 0===t?void 0:t[r]}):o}),m.registerDeserializer("notifications-count-changed",e=>e),m.registerDeserializer("notification-reminder-created",e=>{let t=h(e),{reminderDate:i}=t;return Object.assign(Object.assign({},a(t,["reminderDate"])),{reminderDate:new Date(i)})}),m.registerDeserializer("notification-reminder-removed",e=>h(e)),m.registerDeserializer("notification-sound-toggled",e=>e),t.addEventListener=async function(e,t){var i,n;(0,f.validateEnvironment)(),e=(0,f.sanitizeEventType)(e),t=(0,f.sanitizeFunction)(t);let r=d.eventEmitter.listenerCount(e);"notification-form-submitted"===e&&(i=t,t=e=>{let t=e.notification.id;e.setFormStatus=e=>(0,l.tryServiceDispatch)(u.APITopic.SET_FORM_STATUS_OPTIONS,Object.assign(Object.assign({},e),{_notificationId:t})),i(e)}),"notification-form-values-changed"===e&&(n=t,t=e=>{e.setErrors=t=>(0,l.tryServiceDispatch)(u.APITopic.SET_FORM_VALIDATION_ERRORS,{errors:t,notificationId:e.notification.id}),n(e)}),d.eventEmitter.addListener(e,t),0===r&&1===d.eventEmitter.listenerCount(e)&&await (0,l.tryServiceDispatch)(u.APITopic.ADD_EVENT_LISTENER,e)},t.removeEventListener=async function(e,t){(0,f.validateEnvironment)(),e=(0,f.sanitizeEventType)(e),t=(0,f.sanitizeFunction)(t),1===d.eventEmitter.listenerCount(e)&&d.eventEmitter.listeners(e)[0]===t&&await (0,l.tryServiceDispatch)(u.APITopic.REMOVE_EVENT_LISTENER,e),d.eventEmitter.removeListener(e,t)},t.create=async function(e,t){if("object"!=typeof e||null===e)throw Error("Invalid argument passed to create: argument must be an object and must not be null");if(void 0!==e.date&&!(e.date instanceof Date))throw Error('Invalid argument passed to create: "date" must be a valid Date object');if(void 0!==e.expires&&null!==e.expires&&!(e.expires instanceof Date))throw Error('Invalid argument passed to create: "expires" must be null or a valid Date object');if(t&&t.reminderDate){if(!1===e.allowReminder)throw Error('You must not specify a reminder date for a notification with "allowReminder" option set to false.');if(t.reminderDate instanceof Date){if(e.expires&&e.expires.getTime()<t.reminderDate.getTime())throw Error("Expiration date must not be earlier than reminder date.")}else throw Error('Invalid argument passed to reminder Options: "date" must a valid Date object')}(void 0===e.category||null===e.category)&&(e.category="default");let i=await (0,l.tryServiceDispatch)(u.APITopic.CREATE_NOTIFICATION,Object.assign(Object.assign({},e),{date:e.date&&e.date.valueOf(),expires:e.expires&&e.expires.valueOf(),reminder:(null==t?void 0:t.reminderDate)&&t.reminderDate.valueOf()}));return Object.assign(Object.assign({},i),{date:new Date(i.date),expires:null!==i.expires?new Date(i.expires):null})},t.update=async function(e){if("object"!=typeof e||null===e)throw Error("Invalid argument passed to create: argument must be an object and must not be null");if(!e.id)throw Error('Invalid argument passed to create: "id" must be Id of previously created Notification');return Object.assign({},await (0,l.tryServiceDispatch)(u.APITopic.UPDATE_NOTIFICATION,Object.assign({},e)))},t.clear=async function(e){return(0,l.tryServiceDispatch)(u.APITopic.CLEAR_NOTIFICATION,{id:e})},t.getAll=async function(){return(await (0,l.tryServiceDispatch)(u.APITopic.GET_APP_NOTIFICATIONS,void 0)).map(e=>Object.assign(Object.assign({},e),{indicator:e.indicator||null,date:new Date(e.date),expires:null!==e.expires?new Date(e.expires):null}))},t.clearAll=async function(){return(0,l.tryServiceDispatch)(u.APITopic.CLEAR_APP_NOTIFICATIONS,void 0)},t.toggleNotificationCenter=async function(){return(0,l.tryServiceDispatch)(u.APITopic.TOGGLE_NOTIFICATION_CENTER,void 0)},t.setDefaultPlatformShortcut=function(e){return(0,l.tryServiceDispatch)(u.APITopic.SET_DEFAULT_PLATFORM_SHORTCUT,e)},t.show=async function(e){return(0,l.tryServiceDispatch)(u.APITopic.SHOW_NOTIFICATION_CENTER,e)},t.hide=async function(){return(0,l.tryServiceDispatch)(u.APITopic.HIDE_NOTIFICATION_CENTER,void 0)},t.getNotificationsCount=async function(){return(0,l.tryServiceDispatch)(u.APITopic.GET_NOTIFICATIONS_COUNT,void 0)},(t.UserSettings||(t.UserSettings={})).SOUND_ENABLED="soundEnabled",t.getUserSettingStatus=async function(e){return(0,l.tryServiceDispatch)(u.APITopic.GET_USER_SETTINGS_STATUS,e)},t.setAllowedOrigins=async e=>(0,l.tryServiceDispatch)(u.APITopic.SET_NOTIFICATION_SECURITY_RULE,{allowedOrigins:e})},"./src/client/provider.ts":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isConnectedToAtLeast=t.getStatus=void 0;let r=n(i("./node_modules/semver-compare/index.js")),o=i("./node_modules/openfin-service-async/index.js"),s=i("./src/client/dispatch.ts"),a=i("./src/client/internal.ts");function c(){return(0,o.withStrictTimeout)(500,(0,s.tryServiceDispatch)(a.APITopic.GET_PROVIDER_STATUS,void 0),"").catch(()=>({connected:!1,version:null,templateAPIVersion:null}))}t.getStatus=c,t.isConnectedToAtLeast=async function(e){let t=await c();if(t.connected&&null!==t.version){let i=(0,r.default)(t.version,e);if(0===i||1===i)return!0}return!1}},"./src/client/sounds.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/source.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/stream.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/templates/BaseNotificationOptions.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/templates/BaseUpdatableNotificationOptions.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/templates/index.ts":function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i("./src/client/templates/BaseNotificationOptions.ts"),t),r(i("./src/client/templates/BaseUpdatableNotificationOptions.ts"),t),r(i("./src/client/templates/templates.ts"),t),r(i("./src/client/templates/update.ts"),t)},"./src/client/templates/templates.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateFragmentNames=t.PresentationTemplateFragmentNames=t.ContainerTemplateFragmentNames=t.TemplateNames=void 0,t.TemplateNames={markdown:"markdown",list:"list",custom:"custom"},t.ContainerTemplateFragmentNames={container:"container"},t.PresentationTemplateFragmentNames={text:"text",image:"image",list:"list",actionableText:"actionableText"},t.TemplateFragmentNames=Object.assign(Object.assign({},t.ContainerTemplateFragmentNames),t.PresentationTemplateFragmentNames)},"./src/client/templates/update.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./src/client/validation.ts":(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeStringify=t.validateEnvironment=t.sanitizeEventType=t.sanitizeFunction=void 0;let n=i("./src/client/context.ts");function r(e,t){let i;try{i=JSON.stringify(e)}catch(e){i=t}return i}t.sanitizeFunction=function(e){if("function"!=typeof e)throw Error(`Invalid argument passed: ${r(e,"The provided value")} is not a valid function`);return e},t.sanitizeEventType=function(e){if("notification-action"===e||"notification-created"===e||"notification-toast-dismissed"===e||"notification-closed"===e||"notifications-count-changed"===e||"notification-form-submitted"===e||"notification-reminder-created"===e||"notification-reminder-removed"===e||"notification-form-values-changed"===e||"notification-sound-toggled"===e)return e;throw Error(`Invalid argument passed: ${r(e,"The provided event type")} is not a valid Notifications event type`)},t.validateEnvironment=function(){if(void 0===(0,n.getFin)())throw Error("fin is not defined. The openfin-notifications module is only intended for use in an OpenFin application.")},t.safeStringify=r},"./src/client/web.ts":function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.connectToNotifications=void 0;let o=i("./src/client/channel-client.ts"),s=i("./src/client/context.ts");r(i("./src/client/main.ts"),t);let a=e=>{if(!e)throw Error("Provider config must be provided.");if(!e.id)throw Error("id must be a non-zero length and must be a unique identifier of the provider.");if(!e.title)throw Error("title must be a non-zero length.");if(!e.serviceId)throw Error("serviceId must be a non-zero length and must match the service id of the Web Notification Center instance.");if(!e.finContext)throw Error("fin context must be provided.")};t.connectToNotifications=async e=>{a(e),(0,s.setProviderInfo)({id:e.id,title:e.title,icon:e.icon}),(0,s.setFin)(e.finContext),o.ChannelClientConfig.serviceChannel=e.serviceId;try{(0,o.initAwaitedChannelClient)()}catch(e){console.error("Failed to connect to notification center channel:",e)}}}},i={},e.exports=function e(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}("./src/client/web.ts")}}]);